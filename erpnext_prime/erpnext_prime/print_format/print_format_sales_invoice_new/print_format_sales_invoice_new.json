{
 "align_labels_right": 0,
 "creation": "2020-01-18 14:45:46.102758",
 "css": "#container table {\r\n    border-collapse: collapse !important;\r\n    font-size: 8pt !important;\r\n\r\n}\r\n.complaint {\r\n    font-size: 8pt important;\r\n}\r\n#container table td {\r\n    border-top: 1px solid #d1d8dd !important;   \r\n}\r\n#container table tr td {\r\n    border-top: 1px solid #d1d8dd !important;\r\n    border-bottom: 1px solid #d1d8dd !important;\r\n}\r\n\r\n.qrdiv {\r\n    text-align: center;\r\n}\r\n.qr {\r\n    width: 132px !important;\r\n    height: 142px !important;\r\n    bottom: 0px !important;\r\n}\r\n\r\n.text_back {\r\n    width:60% !important;\r\n}\r\n.text_color {\r\n    color:red !important;\r\n    width:60% !important;\r\n}\r\n.print-format {\r\nbackground-image: linear-gradient(rgba(255,255,255,0.9), rgba(255,255,255,0.9)), url();    background-size: 80% !important;\r\n    background-repeat: no-repeat !important;\r\n    background-position-x: center !important;\r\n    background-position-y: center !important;\r\n    z-index: -100 !important;\r\n    padding: 0.3in !important;\r\n    font-size: 8pt !important;\r\n}\r\n.capital {\r\n    text-transform: uppercase !important;\r\n}\r\n.print-format th {\r\n    background: none !important;\r\n}\r\ntable.table2  td{\r\nborder: 1px solid #999 !important;\r\n}\r\ntable.table2  tr{\r\n\r\nborder: 1px solid #999 !important;\r\n}\r\n\r\n",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Sales Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font": "Default",
 "html": "{% set tax_to_print = {} %}\r\n{% set item_wise_taxable_rate = {} %}\r\n{% set item_wise_tax = {} %}\r\n{% set item_covered_for_taxable_amount = {} %}\r\n{% for row in doc.items %}\r\n    {% if row.item_code not in item_wise_taxable_rate %}\r\n        {% set x=item_wise_taxable_rate.update({row.item_code: row.net_amount}) %}     \r\n    {% else %}\r\n        {% set temp_rate = item_wise_taxable_rate[row.item_code] + row.net_amount %}\r\n        {% set x=item_wise_taxable_rate.update({row.item_code: temp_rate}) %}\r\n    {% endif %}     \r\n{% endfor %}\r\n\r\n{% for tax in doc.taxes %}\r\n    {% set desc = tax.description %}\r\n    {% set item_wise_tax_details = json.loads(tax.item_wise_tax_detail) %}\r\n    {% for item, tax_array in item_wise_tax_details.items() %}\r\n        {% if item in item_wise_taxable_rate %}\r\n            {% if item not in item_wise_tax %}\r\n                {% set x=item_wise_tax.update({item: 0}) %}            \r\n            {% endif %}\r\n            {% set temp_item_tax_amount=item_wise_tax[item] + tax_array[0] %}\r\n            {% set y=item_wise_tax.update({item: temp_item_tax_amount}) %}\r\n\r\n            {% if tax_array[0] not in tax_to_print %}\r\n                {% set x=tax_to_print.update({tax_array[0]: {\"taxable_amount\": 0}}) %}\r\n            {% endif %}\r\n\r\n            {% if tax_array[0] not in item_covered_for_taxable_amount %}\r\n                {% set x=item_covered_for_taxable_amount.update({tax_array[0]: {}}) %}\r\n            {% endif %}\r\n\r\n            {% if item not in item_covered_for_taxable_amount[tax_array[0]] %}\r\n                {% set temp_taxable_amount = item_wise_taxable_rate[item] + tax_to_print[tax_array[0]][\"taxable_amount\"] %}\r\n                {% set x=tax_to_print[tax_array[0]].update({\"taxable_amount\": temp_taxable_amount}) %}\r\n                {% set x=item_covered_for_taxable_amount[tax_array[0]].update({item: 1}) %}\r\n            {% endif %}\r\n\r\n            {% if desc not in tax_to_print[tax_array[0]] %}\r\n                {% set y=tax_to_print[tax_array[0]].update({desc: 0}) %}\r\n            {% endif %}\r\n            {% set temp_tax_amount=tax_to_print[tax_array[0]][desc] + tax_array[1] %}\r\n            {% set y=tax_to_print[tax_array[0]].update({desc: temp_tax_amount}) %}\r\n        {% endif %}\r\n    {% endfor %}\r\n{% endfor %}\r\n<br>\r\n<div>\r\n    {%- macro add_header(page_num, max_pages, doc, letter_head, no_letterhead) -%}\r\n    {% if letter_head and not no_letterhead %}\r\n    {{letter_head}}\r\n    <br>\r\n    <!--<div class=\"letter-head\">{{ letter_head }}</div>-->\r\n    {% endif %}\r\n    {% if max_pages > 1 %}\r\n    <p class=\"text-right\">{{ _(\"Page #{0} of {1}\").format(page_num, max_pages) }}</p>\r\n    {% endif %} {%- endmacro -%} {{ add_header(0,1,doc,letter_head, no_letterhead) }}\r\n    <!-- <div align=\"right\">\r\n        <div><span align=\"left\" style=\"font-size: 26px;\">TAX INVOICE</span></div>\r\n    </div>\r\n    <div align=\"right\">\r\n        <div><span align=\"left\" style=\"font-size: 16px;\">{{doc.name}}</span></div>\r\n    </div> -->\r\n    <table style=\"width:100%\" class=\"\">\r\n        <tr style=\"width:100%\">\r\n            <td align=\"left\" style=\"width:50%\">\r\n                <div id=\"container\" align=\"left\" style=\"width:100%\">\r\n                    <table style=\"width:100%\">\r\n                        <tr>\r\n                            <td><b>TAX INVOICE</b></td>\r\n                            <td>{{ doc.name }}</td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n            </td>\r\n            <td align=\"right\" style=\"width:50%\">\r\n                <div id=\"container\" align=\"left\" style=\"width:100%\">\r\n                    <table align=\"right\" style=\"width:100%\">\r\n                        <tr>\r\n                            <td><b>Date</b>\r\n                            </td>\r\n                            <td>{{doc.get_formatted(\"posting_date\")}}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td><b>Payment Due Date</b>\r\n                            </td>\r\n                            <td>{{doc.get_formatted(\"due_date\")}}</td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n            </td>\r\n        </tr>\r\n        <tr style=\"width:100%\">\r\n            <td align=\"left\" style=\"width:50%\">\r\n                <div id=\"container\" align=\"left\" style=\"width:100%\">\r\n                    <table style=\"width:100%\">\r\n                        <tr>\r\n                            <td><b>Invoice To</b></td>\r\n                            <td>{{ doc.customer }}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td><b>Address</b></td>\r\n                            <td>{%- if doc.address_display -%} {{ doc.address_display }} {%- else -%}\r\n                                {%- endif -%}</td>\r\n                        </tr>\r\n\r\n                    </table>\r\n                </div>\r\n            </td>\r\n            <td align=\"left\" style=\"width:50%\">\r\n                <div id=\"container\" align=\"left\" style=\"width:100%\">\r\n                    <table style=\"width:100%\">\r\n                        <tr>\r\n                            <td><b>Deliver To</b></td>\r\n                            <td>{{ doc.shipping_address_name }}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td><b>Address</b></td>\r\n                            <td>{%- if doc.shipping_address -%} {{ doc.shipping_address }} {%- else -%}\r\n                                {%- endif -%}{%- if doc.shipping_address_display -%} {{ doc.shipping_address_display }} {%- else -%}\r\n                                {%- endif -%}</td>\r\n                        </tr>\r\n\r\n                    </table>\r\n                </div>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <table class=\"table table-bordered table-condensed\">\r\n        <thead>\r\n            <tr>\r\n                <th style=\"width: 40px\" class=\"table-sr\">Sr</th>\r\n\r\n                <th style=\"width: 70%px; \" class=\"text-center\" data-fieldname=\"items\" data-fieldtype=\"Table\">\r\n                    Item</th>\r\n\r\n                <th style=\"width: 10%px; \" class=\"text-center\" data-fieldname=\"items\" data-fieldtype=\"Table\">\r\n                    HSN</th>\r\n\r\n                <th style=\"width: 10%px;\" class=\"text-center\" data-fieldname=\"items\" data-fieldtype=\"Table\">\r\n                    Qty</th>\r\n\r\n                <th style=\"width: 10%px;\" class=\"text-center\" data-fieldname=\"items\" data-fieldtype=\"Table\">\r\n                    Gst+Cess</th>\r\n\r\n                <th style=\"width: 10%px; \" class=\"text-center\" data-fieldname=\"items\" data-fieldtype=\"Table\">\r\n                    Mrp</th>\r\n\r\n                <th style=\"width: 10%px;\" class=\"text-center\" data-fieldname=\"items\" data-fieldtype=\"Table\">\r\n                    Rate</th>\r\n                <th style=\"width: 10%px; \" class=\"text-center\" data-fieldname=\"items\" data-fieldtype=\"Table\">\r\n                    Amount</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            {%- for row in doc.items -%}\r\n            <tr>\r\n                <td class=\"table-sr\">{{ loop.index }}</td>\r\n\r\n                <td border: 1px solid #999; class=\"\" data-fieldname=\"items\" data-fieldtype=\"Table\">\r\n                    <div class=\"value\">\r\n\r\n                        <div>\r\n                            <div class=\"primary\">\r\n\r\n                                {{ row.item_name.title() }}\r\n\r\n                            </div>\r\n                        </div>\r\n                </td>\r\n\r\n                <td class=\"text-left\" data-fieldname=\"items\" data-fieldtype=\"Table\">\r\n                    <div class=\"value\">\r\n                        {{ row.gst_hsn_code }}\r\n                    </div>\r\n                </td>\r\n\r\n                <td class=\"text-right\" data-fieldname=\"items\" data-fieldtype=\"Table\">\r\n                    <div class=\"value\">\r\n                        {{ row.qty }} {{ row.uom }}\r\n                    </div>\r\n                </td>\r\n\r\n                <td class=\"text-right\" data-fieldname=\"items\" data-fieldtype=\"Table\">\r\n                    <div class=\"value\">\r\n                        {{ item_wise_tax[row.item_code] }}\r\n                    </div>\r\n                </td>\r\n\r\n                <td class=\"text-right\" data-fieldname=\"items\" data-fieldtype=\"Table\">\r\n                    <div class=\"value\">\r\n                        {{ frappe.utils.fmt_money(row.price_list_rate, currency=\"\u20b9\") }}\r\n                    </div>\r\n                </td>\r\n                <td class=\"text-right\" data-fieldname=\"items\" data-fieldtype=\"Table\">\r\n                    <div class=\"value\">\r\n                        {{ frappe.utils.fmt_money(row.rate, currency=\"\u20b9\") }}\r\n                    </div>\r\n                </td>\r\n                </td>\r\n\r\n                <td class=\"text-right\" data-fieldname=\"items\" data-fieldtype=\"Table\">\r\n                    <div class=\"value\">\r\n                        {{frappe.utils.fmt_money(row.amount, currency=\"\u20b9\")}}\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n            {%- endfor -%}\r\n        </tbody>\r\n\r\n\r\n    </table>\r\n    <table>\r\n        <td align=\"right\" style=\"width:10%\">\r\n            <div id=\"container\" align=\"right\" style=\"width:100%\">\r\n                <table align=\"right\" style=\"width:100%\">\r\n                    <tr>\r\n                        <td><b>Total</b>\r\n                        </td>\r\n                        <td align=\"right\">{{frappe.utils.fmt_money(doc.total, currency=\"\u20b9\")}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td><b>Discount</b>\r\n                        </td>\r\n                        <td align=\"right\">{{frappe.utils.fmt_money(doc.discount_amount, currency=\"\u20b9\")}}</td>\r\n                    </tr>\r\n                    {%- for row in doc.taxes -%}\r\n                    {%- if (not row.included_in_print_rate or doc.flags.show_inclusive_tax_in_print) and row.tax_amount != 0 -%}\r\n                        <tr>\r\n                            <td class=\"text-left\">\r\n                                {{ row.description }}\r\n                            </td>\r\n                            <td class=\"text-right\">\r\n                                {{ row.get_formatted(\"tax_amount\", doc) }}\r\n                            </td>\r\n                        </tr>\r\n                    {%- endif -%} {%- endfor -%}\r\n                    <tr>\r\n                        <td><b>Round Off</b>\r\n                        </td>\r\n                        <td align=\"right\">{{frappe.utils.fmt_money(doc.rounding_adjustment, currency=\"\u20b9\")}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td><b>Grand Total</b>\r\n                        </td>\r\n                        <td align=\"right\">{{frappe.utils.fmt_money(doc.rounded_total, currency=\"\u20b9\")}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td><b>In Words</b>\r\n                        </td>\r\n                        <td align=\"right\">{{doc.in_words}}</td>\r\n                    </tr>\r\n\r\n                </table>\r\n    </table>\r\n<br>\r\n<div>\r\n    <b>Tax Breakup</b>\r\n    <table class=\"table table-bordered table-condensed\">\r\n        {% set ns1 = namespace(total_taxable_amount = 0.0, total_tax_amount=0.0, desc_wise_totals = {}) %}\r\n        {% set total_taxable_amount = 0.0 %}\r\n        {% set total_tax_amount = 0.0 %}\r\n        <tr>\r\n            <th class=\"text-center\">Tax Rate</th>\r\n            <th class=\"text-center\">Taxable Amount</th>\r\n            <th class=\"text-center\">Tax Details</th>\r\n            <th class=\"text-center\">Total Tax</th>\r\n        </tr>\r\n        {% for tax_rate, taxes in tax_to_print.items() %}\r\n        {% if tax_rate != 0 %}\r\n            {% set ns1.total_taxable_amount = ns1.total_taxable_amount + taxes[\"taxable_amount\"] %}\r\n            <tr>\r\n                {% set ns = namespace(tax_string = \"\", total_tax=0.0) %}\r\n                {% for tax_category, tax_amt in taxes.items() %}\r\n                    {% if tax_category != \"taxable_amount\" %}\r\n                        {% if tax_category not in ns1.desc_wise_totals %}\r\n                            {% set x=ns1.desc_wise_totals.update({tax_category: 0.0}) %}          \r\n                        {% endif %}\r\n\r\n                        {% set x=ns1.desc_wise_totals.update({tax_category: (ns1.desc_wise_totals[tax_category] + tax_amt)}) %}\r\n\r\n                        {% set temp_tax_amt = frappe.utils.fmt_money(\"%.3f\"|format(tax_amt), currency=\"\u20b9\") %}\r\n                        {% set ns.total_tax = ns.total_tax + tax_amt %}\r\n                        {% set ns.tax_string = ns.tax_string ~ tax_category ~ \":  \" ~ temp_tax_amt ~ \", \" %}\r\n                    {% endif %}\r\n                {% endfor %}\r\n\r\n                {% set ns1.total_tax_amount = ns1.total_tax_amount + ns.total_tax %}\r\n                {% set tax_rate_calculated = 100 * ns.total_tax / (taxes[\"taxable_amount\"]) %}\r\n                <td align=\"right\">{{ '%0.2f' % tax_rate_calculated|float }}</td>\r\n                <td align=\"right\">{{ frappe.utils.fmt_money(\"%.3f\"|format(taxes[\"taxable_amount\"]), currency=\"\u20b9\") }}</td>\r\n                <td align=\"center\">{{ ns.tax_string[:-2] }}</td>\r\n                <td align=\"right\">{{ frappe.utils.fmt_money(\"%.3f\"|format(ns.total_tax), currency=\"\u20b9\") }}</td>\r\n            </tr>\r\n        {% endif %}\r\n        {% endfor %}\r\n        <tr>\r\n            <td class=\"text-center bold\"><b>Totals</b></td>\r\n            <td class=\"text-right bold\"><b>{{ frappe.utils.fmt_money(\"%.3f\"|format(ns1.total_taxable_amount), currency=\"\u20b9\") }}</b></td>\r\n            <td class=\"text-center bold\"><b>\r\n                {% set ns2 = namespace(tax_string = \"\") %}\r\n                {% for tax_category, tax_amt in ns1.desc_wise_totals.items() %}\r\n                        {% set temp_tax_amt = frappe.utils.fmt_money(\"%.3f\"|format(tax_amt), currency=\"\u20b9\") %}\r\n                        {% set ns2.tax_string = ns2.tax_string ~ tax_category ~ \":  \" ~ temp_tax_amt ~ \", \" %}\r\n                {% endfor %}\r\n                {{ ns2.tax_string[:-2]}}</b>\r\n            </td>\r\n            <td class=\"text-right bold\"><b>{{ frappe.utils.fmt_money(\"%.3f\"|format(ns1.total_tax_amount), currency=\"\u20b9\") }}</b></td>\r\n        </tr>\r\n    </table>\r\n</div>\r\n</div>\r\n<table class=\"table table-bordered table-condensed\">\r\n    <tr>\r\n        <td>E.& O.E.</td>\r\n        <td>        \r\n            <ul>\r\n                <li>Goods once sold will not be taken back.</li>\r\n                <li>Interest @ 18% p.a. will be charged if the payment is not made with in the stipulated time.</li>\r\n                <li>Subject to 'Raipur-Chhattisgarh' Jurisdiction only.</li>\r\n        \r\n            </ul>\r\n        </td>\r\n    </tr>\r\n    <tr>\r\n        <td>Declaration:</td>\r\n        <td>        \r\n            <ul>\r\n                <li>I/We hereby certify that food/foods mentioned in the invoice is/are warranted to be nature and quantity it/these Purports/purport to This is a computer generated invoice hence does not require seal and signature.\r\n                </li>\r\n            </ul>\r\n        </td>  \r\n    </tr>\r\n    <tr>\r\n        <td>Bank Details</td>\r\n        <td>        \r\n            <ul>\r\n                <li>Bank: Yes Bank</li>\r\n                <li>Account No: 004763700001671</li>\r\n                <li>IFSC: YESB0000047</li>\r\n                <li>UPI: 8889234567@yesbank</li>\r\n            </ul>\r\n        </td>  \r\n    </tr>\r\n</table>\r\n<div class=\"qrdiv\">\r\n    <img class=\"qr\" src=\"./files/qr_code.jpg\">\r\n</div>\r\n\r\n<div id=\"footer-html\" class=\"visible-pdf\">\r\n    {% if not no_letterhead and footer %}\r\n    <div class=\"letter-head-footer\">\r\n        {{ footer }}\r\n    </div>\r\n    {% endif %}\r\n    <p class=\"text-center small page-number visible-pdf\">\r\n        {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n    </p>\r\n</div>\r\n",
 "idx": 0,
 "line_breaks": 0,
 "modified": "2020-02-21 15:48:25.921723",
 "modified_by": "Administrator",
 "module": "Erpnext Prime",
 "name": "Print Format Sales Invoice New",
 "owner": "Administrator",
 "print_format_builder": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}